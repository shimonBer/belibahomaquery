(this.webpackJsonpqueryfront=this.webpackJsonpqueryfront||[]).push([[0],{21:function(e,t){e.exports={server_address:"http://belibahomaquerynode.herokuapp.com"}},41:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o),l=(a(45),a(46),a(3)),u=a.n(l),s=a(10),i=a(8),m=a(20),p=a.n(m),v=a(21),d=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"post",url:"".concat(v.server_address,"/api/auth/login"),data:t,headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=function(){var t=Object(s.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d(a);case 3:200<=(n=t.sent).status<=300&&(localStorage.setItem("query-auth-token",n.data.token),e.history.push("/reports")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(i.c,{initialValues:{email:"",password:""},onSubmit:t},r.a.createElement(i.b,null,r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement(i.a,{name:"email",type:"email"})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement(i.a,{name:"password",type:"password"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Login"))))},E=a(13),y=a(40),f=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"get",url:"".concat(v.server_address,"/reports/").concat(t.reportName,"?month=").concat(t.year,"-").concat(t.month),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")}});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},a=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:200<=(a=e.sent).status<=300&&((n=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a.data)),n.setAttribute("download",t.reportName+".csv"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i.c,{initialValues:{year:"2020",month:"01",reportName:"queryTutorsHours"},onSubmit:a},r.a.createElement(i.b,null,r.a.createElement("div",null,r.a.createElement("label",null,"Pick a report"),r.a.createElement(i.a,{as:"select",name:"reportName"},r.a.createElement("option",{key:"1",value:"queryTutorsHours"},"Tutors Hours"),r.a.createElement("option",{key:"2",value:"queryKivunA"},"Kivun part 1"),r.a.createElement("option",{key:"3",value:"queryKivunB"},"Kivun part 2"),r.a.createElement("option",{key:"4",value:"queryKivunC"},"Kivun part 3"))),r.a.createElement("div",null,r.a.createElement("label",null,"Pick A Month"),r.a.createElement(i.a,{as:"select",name:"month"},"'",Object.keys(t).map((function(e){return r.a.createElement("option",{key:e,value:t[e]},e)})))),r.a.createElement("div",null,r.a.createElement("label",null,"Pick A Year"),r.a.createElement(i.a,{as:"select",name:"year"},"'",["2019","2020"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Make Report"))))};function k(e){return localStorage.getItem("query-auth-token")?r.a.createElement(E.b,e):r.a.createElement(E.a,{to:"/auth"})}function w(e){return localStorage.getItem("query-auth-token")?r.a.createElement(E.a,{to:"/reports"}):r.a.createElement(E.b,e)}var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,null,r.a.createElement(E.d,null,r.a.createElement(w,{exact:!0,path:"/",component:h}),r.a.createElement(k,{exact:!0,path:"/reports",component:b}),r.a.createElement(w,{exact:!0,path:"/auth",component:h}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.5878f1c7.chunk.js.map