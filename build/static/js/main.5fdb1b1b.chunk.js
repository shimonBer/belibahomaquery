(this.webpackJsonpqueryfront=this.webpackJsonpqueryfront||[]).push([[0],{110:function(e,a){e.exports={PROD_SERVER_ADDRESS:"http://belibahomaquerynode.herokuapp.com",DEV_SERVER_ADDRESS:"http://localhost:3000"}},138:function(e,a,t){e.exports=t(200)},143:function(e,a,t){},145:function(e,a,t){},197:function(e,a){},200:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),c=(t(143),t(10)),i=t.n(c),m=t(15),s=(t(145),t(35)),u=t(17),p=t.n(u),d=t(110);function g(){return d.PROD_SERVER_ADDRESS}var f=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g(),e.next=3,p()({method:"post",url:"".concat(t,"/api/auth/login"),data:a,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=t(257),h=t(247),v=t(244),y=t(245),b=t(246),x=t(256),w=t(241),k=t(248),S=t(255),j=t(43),C=t(242),O=t(243);function N(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"Beliba Homa")," ",(new Date).getFullYear(),".")}var q=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),d=u[0],g=u[1],C=q(),T=function(){var a=Object(m.a)(i.a.mark((function a(t){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,f({email:o,password:d});case 4:200<=(n=a.sent).status<=300&&(localStorage.setItem("query-auth-token",n.data.token),p.a.defaults.headers.common["x-access-token"]=n.data.token,e.history.push("/reports"),window.onbeforeunload=function(){return localStorage.removeItem("query-auth-token"),""}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:C.paper},r.a.createElement(E.a,{className:C.avatar}),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:C.form,onSubmit:T,noValidate:!0},r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){l(e.target.value)}}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value)}}),r.a.createElement(b.a,{control:r.a.createElement(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:C.submit},"Sign In"),r.a.createElement(k.a,{container:!0},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(k.a,{item:!0},r.a.createElement(w.a,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(S.a,{mt:8},r.a.createElement(N,null)))}var W=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function I(){var e=W();return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(E.a,{className:e.avatar}),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(k.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(b.a,{control:r.a.createElement(x.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(k.a,{container:!0,justify:"flex-end"},r.a.createElement(k.a,{item:!0},r.a.createElement(w.a,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(S.a,{mt:5},r.a.createElement(N,null)))}var R=t(54),B=t(11),D=t(63),P=g(),A=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"get",url:"".concat(P,"/api/reports/staticReport?reportType=").concat(a.reportType,"&month=").concat(a.year,"-").concat(a.month),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=t(249),H=t(252),V=t(251),_=t(250),G=t(205),J=t(258),M=t(208),K=t(203),L={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},U=["2019","2020"],Y=Object(C.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[200]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(D.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function Q(e){var a=Object(n.useState)("01"),t=Object(s.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)("2020"),u=Object(s.a)(c,2),p=u[0],d=u[1],g=Object(n.useState)([]),f=Object(s.a)(g,2),E=(f[0],f[1],function(e){l(e.target.value)}),y=function(e){d(e.target.value)},b=function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A({year:p,month:o,reportType:a});case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),w();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),x=Y(),w=function(){localStorage.removeItem("query-auth-token"),e.history.push("/login")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(O.a,{maxWidth:"sm",component:"main",className:x.heroContent},r.a.createElement(j.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Monthly Reports"),r.a.createElement(j.a,{variant:"h5",align:"center",color:"textSecondary",component:"p"},"Choose your form out of the following options:")),r.a.createElement(O.a,{maxWidth:"md",component:"main"},r.a.createElement(k.a,{container:!0,spacing:5,alignItems:"flex-end","justify-content":"center","flex-wrap":"wrap"},["queryTutorsHours","queryKivunA","queryKivunB","queryKivunC","queryGeneralParticipents","queryGeneralParticipentsServed","queryAllMonthsHoursGenerator"].map((function(e){return r.a.createElement(k.a,{key:e,item:!0,md:4},r.a.createElement(F.a,null,r.a.createElement(_.a,{title:e,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},className:x.cardHeader}),r.a.createElement(V.a,null,r.a.createElement("div",{className:x.cardPricing},r.a.createElement(K.a,{variant:"outlined",className:x.formControl},r.a.createElement(M.a,null,"Month"),r.a.createElement(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:o,onChange:E},Object.keys(L).map((function(e){return r.a.createElement(J.a,{key:e,value:L[e]},e)}))))),r.a.createElement("div",{className:x.cardPricing},r.a.createElement(K.a,{variant:"outlined",className:x.formControl},r.a.createElement(M.a,null,"Year"),r.a.createElement(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:y},U.map((function(e){return r.a.createElement(J.a,{key:e,value:e},e)}))))),r.a.createElement("ul",null)),r.a.createElement(H.a,null,r.a.createElement(h.a,{onClick:function(){return b(e)},fullWidth:!0,variant:"contained",color:"primary"},"Download Report"))))})))),r.a.createElement(O.a,{maxWidth:"md",component:"footer",className:x.footer},r.a.createElement(S.a,{mt:5},r.a.createElement(N,null))))}var $=t(119);function z(e){return localStorage.getItem("query-auth-token")?r.a.createElement(B.b,e):r.a.createElement(B.a,{to:"/login"})}function X(e){return localStorage.getItem("query-auth-token")?r.a.createElement(B.a,{to:"/reports"}):r.a.createElement(B.b,e)}var Z=t(253),ee=t(254),ae=Object(C.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[200]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(D.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));var te=Object(B.g)((function(e){var a=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(Z.a,{position:"static",color:"default",elevation:0,className:a.appBar},r.a.createElement(ee.a,{className:a.toolbar},r.a.createElement(j.a,{variant:"h6",align:"left",color:"inherit",noWrap:!0,className:a.toolbarTitle},"Beliba Homa Reports"),localStorage.getItem("query-auth-token")&&r.a.createElement("div",null,r.a.createElement(h.a,{onClick:function(){return e.history.push("/query")},color:"Secondary",variant:"outlined",className:a.link},"Dynamic Querying"),r.a.createElement(h.a,{onClick:function(){localStorage.removeItem("query-auth-token"),e.history.push("/login")},color:"primary",variant:"outlined",className:a.link},"Logout")))))})),ne=t(117),re=t.n(ne),oe=t(118);function le(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(oe.saveAs)(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(){return Object(n.useEffect)((function(){re()(g()).on("finishReport",function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,le(a.downloadURL);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(R.a,null,r.a.createElement(te,null),r.a.createElement(B.d,null,r.a.createElement(X,{exact:!0,path:"/",component:T}),r.a.createElement(z,{exact:!0,path:"/reports",component:Q}),r.a.createElement(z,{exact:!0,path:"/query",component:$.a}),r.a.createElement(X,{exact:!0,path:"/login",component:T}),r.a.createElement(X,{exact:!0,path:"/register",component:I}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.5fdb1b1b.chunk.js.map