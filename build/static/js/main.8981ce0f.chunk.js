(this.webpackJsonpqueryfront=this.webpackJsonpqueryfront||[]).push([[0],{109:function(e,t){e.exports={PROD_SERVER_ADDRESS:"http://belibahomaquerynode.herokuapp.com",DEV_SERVER_ADDRESS:"http://localhost:3000"}},134:function(e,t,a){e.exports=a(196)},139:function(e,t,a){},140:function(e,t,a){},191:function(e,t){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=(a(139),a(140),a(6)),i=a.n(l),u=a(10),s=a(16),m=a(18),p=a.n(m),d=a(109);function f(){return d.PROD_SERVER_ADDRESS}var h=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),e.next=3,p()({method:"post",url:"".concat(a,"/api/auth/login"),data:t,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(256),E=a(245),v=a(242),b=a(243),y=a(244),x=a(255),w=a(239),j=a(246),k=a(254),O=a(43),S=a(240),C=a(241);function N(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"Beliba Homa")," ",(new Date).getFullYear(),".")}var q=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),d=m[0],f=m[1],S=q(),T=function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,h({email:o,password:d});case 4:200<=(n=t.sent).status<=300&&(localStorage.setItem("query-auth-token",n.data.token),p.a.defaults.headers.post["x-access-token"]=n.data.token,p.a.defaults.headers.get["x-access-token"]=n.data.token,e.history.push("/reports")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:S.paper},r.a.createElement(g.a,{className:S.avatar}),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:S.form,onSubmit:T,noValidate:!0},r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){c(e.target.value)}}),r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)}}),r.a.createElement(y.a,{control:r.a.createElement(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:S.submit},"Sign In"),r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(j.a,{item:!0},r.a.createElement(w.a,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(k.a,{mt:8},r.a.createElement(N,null)))}var P=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function D(){var e=P();return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(g.a,{className:e.avatar}),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:12,sm:6},r.a.createElement(b.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(j.a,{item:!0,xs:12,sm:6},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(y.a,{control:r.a.createElement(x.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(j.a,{container:!0,justify:"flex-end"},r.a.createElement(j.a,{item:!0},r.a.createElement(w.a,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(k.a,{mt:5},r.a.createElement(N,null)))}var R=a(53),W=a(12),I=a(114),B=f(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"get",url:"".concat(B,"/api/reports/staticReport?reportType=").concat(t.reportType,"&month=").concat(t.year,"-").concat(t.month),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=a(247),F=a(249),G=a(252),J=a(251),V=a(250),_=a(248),M=a(201),K=a(257),L=a(204),U=a(199),Q=a(115);function Y(e){return $.apply(this,arguments)}function $(){return($=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Q.saveAs)(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=a(116);a.n(z)()(f()).on("finishReport",function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Y(t.downloadURL);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var X={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},Z=["2019","2020"],ee=Object(S.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[200]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(I.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function te(e){var t=Object(n.useState)("01"),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)("2020"),m=Object(s.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)([]),h=Object(s.a)(f,2),g=(h[0],h[1],function(e){c(e.target.value)}),b=function(e){d(e.target.value)},y=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A({year:p,month:o,reportType:t});case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),w();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),x=ee(),w=function(){localStorage.removeItem("query-auth-token"),e.history.push("/login")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(H.a,{position:"static",color:"default",elevation:0,className:x.appBar},r.a.createElement(_.a,{className:x.toolbar},r.a.createElement(O.a,{variant:"h6",align:"left",color:"inherit",noWrap:!0,className:x.toolbarTitle},"Beliba Homa Reports"),r.a.createElement(E.a,{onClick:function(){return e.history.push("/query")},color:"Secondary",variant:"outlined",className:x.link},"Dynamic Querying"),r.a.createElement(E.a,{onClick:w,color:"primary",variant:"outlined",className:x.link},"Logout"))),r.a.createElement(C.a,{maxWidth:"sm",component:"main",className:x.heroContent},r.a.createElement(O.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Monthly Reports"),r.a.createElement(O.a,{variant:"h5",align:"center",color:"textSecondary",component:"p"},"Choose your form out of the following options:")),r.a.createElement(C.a,{maxWidth:"md",component:"main"},r.a.createElement(j.a,{container:!0,spacing:5,alignItems:"flex-end","justify-content":"center","flex-wrap":"wrap"},["queryTutorsHours","queryKivunA","queryKivunB","queryKivunC","queryGeneralParticipents","queryGeneralParticipentsServed","queryAllMonthsHoursGenerator"].map((function(e){return r.a.createElement(j.a,{key:e,item:!0,md:4},r.a.createElement(F.a,null,r.a.createElement(V.a,{title:e,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},className:x.cardHeader}),r.a.createElement(J.a,null,r.a.createElement("div",{className:x.cardPricing},r.a.createElement(U.a,{variant:"outlined",className:x.formControl},r.a.createElement(L.a,null,"Month"),r.a.createElement(M.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:o,onChange:g},Object.keys(X).map((function(e){return r.a.createElement(K.a,{key:e,value:X[e]},e)}))))),r.a.createElement("div",{className:x.cardPricing},r.a.createElement(U.a,{variant:"outlined",className:x.formControl},r.a.createElement(L.a,null,"Year"),r.a.createElement(M.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:b},Z.map((function(e){return r.a.createElement(K.a,{key:e,value:e},e)}))))),r.a.createElement("ul",null)),r.a.createElement(G.a,null,r.a.createElement(E.a,{onClick:function(){return y(e)},fullWidth:!0,variant:"contained",color:"primary"},"Download Report"))))})))),r.a.createElement(C.a,{maxWidth:"md",component:"footer",className:x.footer},r.a.createElement(k.a,{mt:5},r.a.createElement(N,null))))}var ae=f(),ne=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"get",url:"".concat(ae,"/api/queries/dbs"),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"post",url:"".concat(ae,"/api/queries/dbcollections"),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")},data:{dbname:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"post",url:"".concat(ae,"/api/queries/collectionfields"),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")},data:{dbname:t,collectionname:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"post",url:"".concat(ae,"/api/queries/query"),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("query-auth-token")},data:{dbname:t,collectionname:a,listoffields:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),le=a(200),ie=a(113),ue=a(253),se=a(117);function me(e){var t=e.columns,a=e.data,n=Object(se.useTable)({columns:t,data:a}),o=n.getTableProps,c=n.getTableBodyProps,l=n.headerGroups,i=n.rows,u=n.prepareRow;return r.a.createElement("div",null,r.a.createElement("table",Object.assign({},o(),{style:{border:"solid 1px blue"}}),r.a.createElement("thead",null,l.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({},e.getHeaderProps(),{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"}}),e.render("Header"))})))}))),r.a.createElement("tbody",c(),i.map((function(e){return u(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",Object.assign({},e.getCellProps(),{style:{padding:"10px",border:"solid 1px gray",background:"papayawhip"}}),e.render("Cell"))})))})))))}var pe=Object(S.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function de(e){var t=pe(),a=Object(n.useState)([]),o=Object(s.a)(a,2),c=o[0],l=o[1],m=Object(n.useState)([]),p=Object(s.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)([]),g=Object(s.a)(h,2),E=g[0],v=g[1],b=Object(n.useState)([]),w=Object(s.a)(b,2),k=w[0],O=w[1],S=Object(n.useState)([]),C=Object(s.a)(S,2),N=C[0],q=C[1],T=Object(n.useState)([]),P=Object(s.a)(T,2),D=P[0],R=P[1],W=Object(n.useState)(""),I=Object(s.a)(W,2),B=I[0],A=I[1],H=Object(n.useState)(""),F=Object(s.a)(H,2),G=F[0],J=F[1];Object(n.useEffect)((function(){!function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){!function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(B);case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[B]),Object(n.useEffect)((function(){!function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v([]),e.next=3,oe(B,G);case 3:t=e.sent,v(t.data),R(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[B,G]),Object(n.useEffect)((function(){if(D){var e=D.map((function(e){return{Header:e,accessor:e}}));O(e)}}),[D]),Object(n.useEffect)((function(){!function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q([]),e.next=3,ce(B,G,D);case 3:(t=e.sent).data&&(a=t.data.map((function(e){var t={};return D.forEach((function(a){"object"!==typeof e[a]?t[a]=e[a]:t[a]=JSON.stringify(e[a])})),t})),q(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[B,G,D]);var V=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f([]),A(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,J(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){if(D.includes(e.target.name)){var t=D.filter((function(t){return t!==e.target.name}));R(t)}else R(D.concat(e.target.name))};return r.a.createElement("div",{style:{margin:50}},r.a.createElement("h1",null,"Dynamic Querying"),r.a.createElement(j.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start"},r.a.createElement(j.a,{item:!0},r.a.createElement(U.a,{className:t.formControl},r.a.createElement(L.a,{htmlFor:"age-native-helper"},"DB"),r.a.createElement(ie.a,{value:B,onChange:V,inputProps:{name:"age",id:"age-native-helper"}},r.a.createElement("option",{"aria-label":"None",value:""}),c.length>0&&c.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(le.a,null,"Pick DB"))),r.a.createElement(j.a,{item:!0},r.a.createElement(U.a,{className:t.formControl},r.a.createElement(L.a,{htmlFor:"age-native-helper"},"Collection"),r.a.createElement(ie.a,{value:G,onChange:_,inputProps:{name:"age",id:"age-native-helper"}},r.a.createElement("option",{"aria-label":"None",value:""}),d.length>0&&d.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(le.a,null,"Pick Collection")))),r.a.createElement(j.a,{item:!0},E.length>0&&r.a.createElement(ue.a,{row:!0},r.a.createElement(y.a,{control:r.a.createElement(x.a,{checked:D.length===E.length,onChange:function(){D.length===E.length?R([]):R(E)},name:"All",color:"primary"}),label:"All"}),E.map((function(e,t){return r.a.createElement(y.a,{key:t,control:r.a.createElement(x.a,{checked:!!D.includes(e),onChange:M,name:e,color:"primary"}),label:e})})))),k.length>0&&N.length>0&&r.a.createElement(me,{columns:k,data:N}))}function fe(e){return localStorage.getItem("query-auth-token")?r.a.createElement(W.b,e):r.a.createElement(W.a,{to:"/login"})}function he(e){return localStorage.getItem("query-auth-token")?r.a.createElement(W.a,{to:"/reports"}):r.a.createElement(W.b,e)}var ge=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R.a,null,r.a.createElement(W.d,null,r.a.createElement(he,{exact:!0,path:"/",component:T}),r.a.createElement(fe,{exact:!0,path:"/reports",component:te}),r.a.createElement(fe,{exact:!0,path:"/query",component:de}),r.a.createElement(he,{exact:!0,path:"/login",component:T}),r.a.createElement(he,{exact:!0,path:"/register",component:D}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.8981ce0f.chunk.js.map